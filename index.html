<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‚úåÔ∏è Rock Paper Scissors</title>
  <style>
    body { margin: 0; padding: 0; background-color: #1a1a1a; }
    .mainBox {
      display: flex;
      width: 400px;
      height: 330px;
      box-sizing: border-box;
      margin: 100px auto 100px auto;
      flex-direction: column;
      align-items: center;
      padding: 25px 0px 50px 0px;
      color: darkorange;
      background-color: #333333;
      border-radius: 5px;
      border-bottom: 10px solid darkorange;
      box-shadow: 0px 0px 10px black;
    }
    .reactionBox { display: flex; gap: 60px; }
    #face { transform: rotate(90deg); }
    .controls { margin-top: 27px; }
    .btn {
      font-size: 30px;
      margin: 0px 15px;
      border: none;
      padding: 5px;
      transition: all 0.5s ease;
      border-radius: 5px;
      background: #222;
      cursor: pointer;
    }
    .btn:hover { background-color: dimgray; transform: translateY(-10px); }
    #mainText { font-weight: bolder; margin: 15px 0; }

    /* YOUR REQUESTED BUTTON */
    #restartBtn {
      margin-top: 25px;
      margin-bottom: 0px;
      padding: 10px 25px;
      background-color: darkorange;
      color: #333;
      border: 2px solid darkorange;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      visibility: hidden; /* Hidden until game ends */
    }
    #restartBtn:hover {
      background-color: #333;
      color: darkorange;
    }
  </style>
</head>
<body>
<div class="mainBox">
  <div class="reactionBox">
    <h1 id="face">:]</h1>
    <h1 id="hisHand">‚úåÔ∏è</h1>
  </div>
  <div class="textBox">
    <p id="mainText">Let's Play Rock Paper Scissor's!</p>
  </div>
  <div class="controls">
    <button id="paperHand" class="btn">‚úã</button>
    <button id="scissorHand" class="btn">‚úåÔ∏è</button>
    <button id="rockHand" class="btn">üëä</button>
  </div>
  <button id="restartBtn">RESTART >:}</button>
</div>

<script>
 const face = document.getElementById("face");
 const hisHand = document.getElementById("hisHand");
 const mainText = document.getElementById("mainText");
 const restartBtn = document.getElementById("restartBtn");
 const paperBtn = document.getElementById("paperHand");
 const scissorBtn = document.getElementById("scissorHand");
 const rockBtn = document.getElementById("rockHand");
 
 const choices = ['üëä', '‚úã', '‚úåÔ∏è'];
 let gamePlayed = false;

 function getHisChoice() {
  return choices[Math.floor(Math.random() * 3)];
 }

 function determineWinner(player, him) {
  if (player === him) return 'draw';
  if ((player === 'üëä' && him === '‚úåÔ∏è') || (player === '‚úã' && him === 'üëä') || (player === '‚úåÔ∏è' && him === '‚úã')) {
    return 'player';
  } else {
    return 'him';
  }
 }

function updateUI(result, playerChoice, hisChoice) {
  hisHand.textContent = hisChoice;
  
  if (playerChoice === '‚úã') paperBtn.style.backgroundColor = result === 'player' ? 'green' : (result === 'draw' ? 'gray' : 'red');
  if (playerChoice === '‚úåÔ∏è') scissorBtn.style.backgroundColor = result === 'player' ? 'green' : (result === 'draw' ? 'gray' : 'red');
  if (playerChoice === 'üëä') rockBtn.style.backgroundColor = result === 'player' ? 'green' : (result === 'draw' ? 'gray' : 'red');

  if (result === 'player') {
    face.textContent = ":o";
    mainText.textContent = "OH! You Won!";
  } else if (result === 'him') {
    face.textContent = ">:]";
    mainText.textContent = "Loser! Try again if you dare!";
  } else {
    face.textContent = ":|";
    mainText.textContent = "Bleh. It's a Draw.";
  }
  
  restartBtn.style.visibility = "visible"; // Show button when game ends
}

function playGame(playerChoice) {
    if (gamePlayed) return;
    gamePlayed = true;
    
    const hisChoice = getHisChoice();
    const result = determineWinner(playerChoice, hisChoice);
    
    setTimeout(() => {
      updateUI(result, playerChoice, hisChoice);
    }, 300);
}

// RESET FUNCTION
restartBtn.addEventListener('click', () => {
    gamePlayed = false;
    face.textContent = ":]";
    hisHand.textContent = "‚úåÔ∏è";
    mainText.textContent = "Let's Play Rock Paper Scissor's!";
    restartBtn.style.visibility = "hidden";
    [paperBtn, scissorBtn, rockBtn].forEach(btn => btn.style.backgroundColor = '#222');
});

rockBtn.addEventListener('click', () => playGame('üëä'));
paperBtn.addEventListener('click', () => playGame('‚úã'));
scissorBtn.addEventListener('click', () => playGame('‚úåÔ∏è'));
</script> 
</body>
</html>